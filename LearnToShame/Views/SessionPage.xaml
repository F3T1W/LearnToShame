<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:vm="clr-namespace:LearnToShame.ViewModels"
             xmlns:helpers="clr-namespace:LearnToShame.Helpers"
             x:DataType="vm:SessionViewModel"
             x:Class="LearnToShame.Views.SessionPage"
             Title="Training Session"
             Shell.NavBarIsVisible="False">

    <Grid RowDefinitions="Auto, *, Auto">
        <VerticalStackLayout Grid.Row="0" Padding="20" BackgroundColor="Black">
            <Label Text="{Binding TimerText}" TextColor="Red" FontSize="48" HorizontalOptions="Center" FontAttributes="Bold"/>
        </VerticalStackLayout>
        
        <CarouselView Grid.Row="1" ItemsSource="{Binding Images}" Loop="False">
            <CarouselView.ItemTemplate>
                <DataTemplate>
                    <Image Source="{Binding .}" Aspect="AspectFit" BackgroundColor="Black"/>
                </DataTemplate>
            </CarouselView.ItemTemplate>
        </CarouselView>
        
        <ActivityIndicator Grid.Row="1" IsRunning="{Binding IsLoading}" IsVisible="{Binding IsLoading}" Color="{StaticResource Primary}" HorizontalOptions="Center" VerticalOptions="Center" WidthRequest="80" HeightRequest="80"/>
        
        <Button Grid.Row="2" Text="FINISH" Command="{Binding FinishSessionCommand}" 
                BackgroundColor="Red" TextColor="White" HeightRequest="96" FontAttributes="Bold" FontSize="32" CornerRadius="14" Margin="32" Padding="32,18">
            <Button.Behaviors>
                <helpers:ButtonPressAnimationBehavior />
            </Button.Behaviors>
        </Button>
    </Grid>

</ContentPage>
